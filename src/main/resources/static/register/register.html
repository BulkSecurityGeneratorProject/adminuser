<script type="text/javascript">
     $('.registerform').find('input, textarea').on('keyup blur focus change', function (e) {
  
  var $this = $(this),
      label = $this.prev('label');

      if (e.type === 'keyup') {
            if ($this.val() === '') {
          label.removeClass('active highlight');
        } else {
          label.addClass('active highlight');
        }
    } else if (e.type === 'blur') {
        if( $this.val() === '' ) {
            label.removeClass('active highlight'); 
            } else {
            label.removeClass('highlight');   
            }   
    } else if (e.type === 'focus') {
      
      if( $this.val() === '' ) {
            label.removeClass('highlight'); 
            } 
      else if( $this.val() !== '' ) {
            label.addClass('highlight');
            }
    }

});
 </script>

 <div class="registerform">
    <h1>Register</h1>
    <div ng-class="{'alert-incorrect': flash.type === 'error' }" ng-if="flash" ng-bind="flash.message"></div>
    <p class="registerSuccess" ng-if="vm.registerHide">Registration successfull! Please<a ui-sref="login">Login</a> to continue.</p>
        <form name="form" ng-submit="vm.register()" role="form" ng-hide="vm.registerHide">
            <div class="field-wrap" ng-class="{ 'has-error': form.firstName.$dirty && form.firstName.$error.required }">
            <label>First name<span class="req">*</span>
            </label>
            <input type="text" name="firstName" id="firstName" ng-model="vm.user.firstName" required autocomplete="off"/>
            <span ng-show="form.firstName.$dirty && form.firstName.$error.required" class="help-block">First name is required</span>
        </div>
        <div class="field-wrap" ng-class="{ 'has-error': form.lastName.$dirty && form.lastName.$error.required }">
            <label>Last name<span class="req">*</span></label>
            <input type="text" name="lastName" id="lastName" ng-model="vm.user.lastName" required autocomplete="off"/>
            <span ng-show="form.lastName.$dirty && form.lastName.$error.required" class="help-block">Last name is required</span>
        </div>
        <div class="field-wrap" ng-class="{ 'has-error': form.login.$dirty && form.login.$error.required }">
            <label>Username<span class="req">*</span></label>
            <input type="text" name="login" id="login" ng-model="vm.user.login" required />
            <span ng-show="form.login.$dirty && form.login.$error.required" class="help-block">Username is required</span>
        </div>
        <div class="field-wrap" ng-class="{ 'has-error': form.email.$dirty && form.email.$error.required }">
            <label>Email<span class="req">*</span></label>
            <input type="text" name="email" id="email" ng-model="vm.user.email" required />
            <span ng-show="form.email.$dirty && form.email.$error.required" class="help-block">Email is required</span>
        </div>
        <div class="field-wrap" ng-class="{ 'has-error': form.password.$dirty && form.password.$error.required }">
            <label>Password<span class="req">*</span></label>
            <input type="password" name="password" id="password" ng-model="vm.user.password" required />
            <span ng-show="form.password.$dirty && form.password.$error.required" class="help-block">Password is required</span>
        </div>
        <div class="field-wrap" ng-class="{ 'has-error': form.confirmPassword.$dirty && form.confirmPassword.$error.required }">
            <label ng-hide="vm.confirmError">Confirm Password<span class="req">*</span></label>
            <input type="password" name="confirmPassword" id="confirmPassword" ng-model="vm.confirmPassword" ng-blur="checkConfirmPassword(vm.confirmPassword)"  required />
            <span ng-show="form.confirmPassword.$dirty && form.confirmPassword.$error.required" class="help-block">Confirm Password is required</span>
            <span ng-show="vm.confirmError" style="color: #a94442;" ng-bind="vm.confirmMessage"></span>
        </div>
            
            <div class="form-actions">
                <img style="float:left;" ng-if="vm.dataLoading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                
                <button type="submit" ng-disabled="(form.$invalid || vm.dataLoading) && !vm.confirmError" class="button button-block">Sign Up</button>
                <p class="reg_signup"><a id="log_reg" ui-sref="login">Already have an account?</a>
                </p>
            </div>
        </form>
</div>